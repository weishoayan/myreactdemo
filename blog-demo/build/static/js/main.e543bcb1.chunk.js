(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{199:function(e,t,a){e.exports=a.p+"static/media/404.d02d7133.gif"},202:function(e,t,a){e.exports=a(400)},399:function(e,t,a){},400:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),c=a.n(o),l=a(79),i=a(185),s=a(34),u=a(15),m=a(16),d=a(18),p=a(17),h=a(19),f=a(60),g=a(13),b="http://120.77.39.99";function E(e,t){return fetch(b+e,{body:JSON.stringify(t),cache:"no-cache",credentials:"same-origin",headers:{"user-agent":"Mozilla/4.0 MDN Example","content-type":"application/json"},method:"POST",mode:"cors",redirect:"follow",referrer:"no-referrer"}).then(function(e){return e.json()})}function v(e,t){return fetch(b+e,{cache:"no-cache",credentials:"same-origin",headers:{"user-agent":"Mozilla/4.0 MDN Example","content-type":"application/json","Access-Control-Allow-Origin":"*"},method:"GET",mode:"cors",redirect:"follow",referrer:"no-referrer"}).then(function(e){return e.json()})}function y(e,t){return fetch(b+e,{cache:"no-cache",body:JSON.stringify(t),headers:{"content-type":"application/json"},mode:"cors",method:"DELETE"}).then(function(e){return e.json()})}var j=a(409),O=a(401),k=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).getdataAll=function(e){v("/page/"+e).then(function(e){a.setState({articleData:e.data,total:e.maxNum,loading:!1})}).catch(function(e){console.log(e)})},a.getDataTips=function(e,t){v("/tips/".concat(e,"/").concat(t)).then(function(e){a.setState({articleData:e.data,total:e.len,loading:!1})}).catch(function(e){console.log(e)})},a.changeCurrent=function(e){"all"===a.state.tabs?a.getdataAll(e):a.getDataTips(a.state.tabs,e)},a.state={current:1,tabs:a.props.tabs,total:0,articleData:[],commentData:[],loading:!0},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.isComment||("all"===this.props.tabs?this.getdataAll(1):this.getDataTips(this.props.tabs,1))}},{key:"componentWillReceiveProps",value:function(e){e.isComment&&this.setState({commentData:e.commentData,total:e.maxNum,loading:!1})}},{key:"shouldComponentUpdate",value:function(e,t){return e.tabs!==t.tabs&&(this.setState({tabs:e.tabs,current:1}),"all"===e.tabs?this.getdataAll(1):this.getDataTips(e.tabs,1)),!0}},{key:"render",value:function(){var e=this,t=this.state,a=t.current,n=t.total,o=t.articleData,c=t.loading,l=t.commentData,i={current:a,defaultCurrent:1,defaultPageSize:5,onChange:function(t,a){e.setState({current:t}),e.changeCurrent(t)},total:n};return r.a.createElement("div",null,o&&r.a.createElement(j.a,{className:"main-list",itemLayout:"horizontal",loading:c,dataSource:o.length>0?o:l,pagination:i,renderItem:function(e){return r.a.createElement(j.a.Item,null,r.a.createElement(j.a.Item.Meta,{avatar:e.author?r.a.createElement(O.a,{src:b+e.author.avatar}):r.a.createElement(O.a,{src:b+e.from.avatar}),title:r.a.createElement("div",null,e.author?r.a.createElement(g.b,{to:"/user/"+e.author.user},e.author.user):r.a.createElement(g.b,{to:"/user/"+e.from.user},e.from.user),e.tips&&r.a.createElement("span",{style:{marginLeft:"10px"}},e.tips),r.a.createElement(g.b,{style:{marginLeft:"10px"},to:"/article/"+e._id},e.title)),description:r.a.createElement("div",{style:{height:"25px",overflow:"hidden"},dangerouslySetInnerHTML:{__html:e.content}})}),e.commentNum>="0"&&r.a.createElement("div",{style:{marginRight:"15px"}},"\u8bc4\u8bba\u6570\uff1a",e.commentNum))}}))}}]),t}(n.Component);k=Object(f.g)(k);var w=a(146),x=a(61),I=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handlerClickTips=function(e,t){a.setState({tips:e})},a.state={tips:a.props.match.params.id},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params.id;this.setState({tips:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"wrap"},r.a.createElement("div",{className:"clearfix wrap-left-menu"},r.a.createElement(w.a,{className:"left-menu",mode:"horizontal"},r.a.createElement(w.a.Item,null,r.a.createElement(g.b,{to:"/index/html",onClick:this.handlerClickTips.bind(null,"html")},"html")),r.a.createElement(w.a.Item,null,r.a.createElement(g.b,{to:"/index/javascript",onClick:this.handlerClickTips.bind(null,"javascript")},"javascript")),r.a.createElement(w.a.Item,null,r.a.createElement(g.b,{to:"/index/nodejs",onClick:this.handlerClickTips.bind(null,"nodejs")},"nodejs")),r.a.createElement(w.a.Item,null,r.a.createElement(g.b,{to:"/index/react",onClick:this.handlerClickTips.bind(null,"react")},"react")),r.a.createElement(w.a.Item,null,r.a.createElement(g.b,{to:"/index/vue",onClick:this.handlerClickTips.bind(null,"vue")},"vue"))),r.a.createElement(x.a,{type:"primary",className:"addArticle"},r.a.createElement(g.b,{to:"/addarticle"},"\u53d1\u8868\u6587\u7ae0"))),r.a.createElement("div",null,r.a.createElement(k,{tabs:this.state.tips})))}}]),t}(n.Component),S=a(80),C=a(47),N=a(27),T=a.n(N),D=a(35),_=a(113),A=a.n(_),M=a(410),L={top:{color:"volcano",text:"\u7f6e\u9876"},good:{color:"orange",text:"\u7cbe\u534e"},ask:{color:"gold",text:"\u95ee\u7b54"},share:{color:"green",text:"\u5206\u4eab"},job:{color:"cyan",text:"\u62db\u8058"},dev:{color:"blue",text:"\u6d4b\u8bd5"},all:{color:"red",text:"\u65e0"}},P=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"getTab",value:function(e){return e.top?"top":e.good?"good":e.tab?e.tab:"all"}},{key:"render",value:function(){var e=this.getTab(this.props.tab);return r.a.createElement("div",{className:"tag-biaoqian"},L[e].color&&r.a.createElement(M.a,{color:L[e].color},L[e].text))}}]),t}(n.Component),z=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={page:1,data:[],loading:a.props.loading},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.getData(this.props.tab,this.state.page)}},{key:"getData",value:function(e,t){var a=this;A.a.get("https://cnodejs.org/api/v1/topics?tab=".concat(e,"&page=").concat(t,"&limit=20")).then(function(e){a.setState({data:e.data.data,loading:!1})})}},{key:"shouldComponentUpdate",value:function(){var e=Object(D.a)(T.a.mark(function e(t,a){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.page!==a.page&&this.getData(t.tab,a.page),this.props.tab===t.tab){e.next=6;break}return this.setState({page:1}),e.next=5,this.setState({loading:t.loading});case 5:this.getData(t.tab,this.state.page);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.data,a={current:this.state.page,pageSize:20,total:1e3,onChange:function(t){console.log(t),e.setState({page:t})}};return r.a.createElement("div",null,r.a.createElement(j.a,{loading:this.state.loading,className:"cnode-list",dataSource:t,pagination:a,renderItem:function(e){return r.a.createElement(j.a.Item,{extra:"\u56de\u590d"+e.reply_count+" | \u8bbf\u95ee"+e.visit_count},r.a.createElement(j.a.Item.Meta,{avatar:r.a.createElement(O.a,{src:e.author.avatar_url}),title:r.a.createElement("span",null,r.a.createElement(P,{tab:e}),r.a.createElement(g.b,{to:"/code/details/"+e.id},e.title)),description:r.a.createElement("p",null,e.author.loginname,":\u53d1\u8868\u4e8e",e.create_at.split("T")[0])}))}}))}}]),t}(n.Component),U=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(w.a,{className:"MenuIndex"},r.a.createElement(w.a.Item,null,r.a.createElement(g.b,{to:"/cnode/all"},"\u5168\u90e8")),r.a.createElement(w.a.Item,null,r.a.createElement(g.b,{to:"/cnode/good"},"\u7cbe\u534e")),r.a.createElement(w.a.Item,null,r.a.createElement(g.b,{to:"/cnode/ask"},"\u95ee\u7b54")),r.a.createElement(w.a.Item,null,r.a.createElement(g.b,{to:"/cnode/share"},"\u5206\u4eab")),r.a.createElement(w.a.Item,null,r.a.createElement(g.b,{to:"/cnode/job"},"\u62db\u8058")),r.a.createElement(w.a.Item,null,r.a.createElement(g.b,{to:"/cnode/dev"},"\u6d4b\u8bd5"))))}}]),t}(n.Component),F=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.match.params.id;return r.a.createElement(S.a,{className:"wrap"},r.a.createElement(C.a,{md:6},r.a.createElement(U,null)),r.a.createElement(C.a,{md:18,className:"IndexList"},r.a.createElement(z,{tab:e,loading:!0})))}}]),t}(n.Component),R=a(405),W=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={data:{},loading:!0},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.getData()}},{key:"getData",value:function(){var e=this;A.a.get("https://cnodejs.org/api/v1/topic/".concat(this.props.match.params.id)).then(function(t){console.log(t),e.setState({data:t.data.data,loading:!1})})}},{key:"render",value:function(){var e=this.state.data;return r.a.createElement("div",{className:"wrap"},!!e.title&&r.a.createElement(R.a,{loading:this.state.loading},r.a.createElement(R.a.Meta,{title:r.a.createElement("div",null,r.a.createElement("h2",null,e.title),r.a.createElement(P,{style:{display:"inline"},tab:e}),r.a.createElement(O.a,{src:e.author.avatar_url}),"\xa0\u53d1\u8868\u4e8e\uff1a",e.author.loginname),description:r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.content},className:"details-content"})})),!!e.title&&r.a.createElement("div",{className:"dedails-replies"},r.a.createElement(j.a,{loading:this.state.loading,dataSource:e.replies,renderItem:function(e){return r.a.createElement(j.a.Item,null,r.a.createElement(j.a.Item.Meta,{avatar:r.a.createElement(O.a,{src:e.author.avatar_url}),title:r.a.createElement("div",null,r.a.createElement("p",null,e.author.loginname,":\u53d1\u8868\u4e8e",e.create_at.split("T")[0])),description:r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.content},className:"details-content"})}))}})))}}]),t}(n.Component),q=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"wrap"},r.a.createElement(R.a,{style:{width:500,margin:"20px auto 0",paddingTop:"35px"},cover:r.a.createElement("img",{src:"http://hbimg.b0.upaiyun.com/e733274e161bdb06f85d0b4d184906a6babf29e719dd36-RsbRA3_fw658"})}))}}]),t}(n.Component),G=a(408),H=a(406),B=a(407),J=a(11),V=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).success=function(e){return G.a.success(e).then(function(){a.props.history.push("/")})},a.error=function(e){return G.a.error(e)},a.warning=function(e){return G.a.warning(e)},a.postData=function(e){a.props.dispatch(function(t){E("/user/login",e).then(function(){var e=Object(D.a)(T.a.mark(function e(n){var r;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.data,0!==n.code){e.next=7;break}return e.next=4,a.success(n.message);case 4:t({type:"SET_USER",userInfo:r}),e.next=8;break;case 7:1===n.code?a.warning(n.message):a.error(n.message);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.log(e)})})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.postData(t)})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"wrap",style:{marginTop:"50px",maxWidth:"500px"}},r.a.createElement(H.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(H.a.Item,{label:"Password",hasFeedback:!0},e("username",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(B.a,{prefix:r.a.createElement(J.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement(H.a.Item,{label:"Password",hasFeedback:!0},e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(B.a,{prefix:r.a.createElement(J.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(H.a.Item,null,r.a.createElement(x.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in"))))}}]),t}(n.Component);V=Object(f.g)(Object(s.b)(function(e){return{userInfo:e.data}})(V));var K=H.a.create({name:"normal_login"})(V),Q=a(200),X=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1,autoCompleteResult:[],userInfo:{}},a.success=function(e){return G.a.success(e).then(function(){a.props.history.push("/")})},a.error=function(e){return G.a.error(e)},a.warning=function(e){return G.a.warning(e)},a.postData=function(e){E("/user/reg",e).then(function(e){console.log(e),0===e.code?a.success(e.message):1===e.code?a.warning(e.message):a.error(e.message)}).catch(function(e){console.log(e)})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){e||(a.setState({userInfo:t}),a.postData(t))})},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},a.validateToNextPassword=function(e,t,n){var r=a.props.form;t&&a.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},a.handleWebsiteChange=function(e){var t;t=e?[".com",".org",".net"].map(function(t){return"".concat(e).concat(t)}):[],a.setState({autoCompleteResult:t})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"wrap",style:{marginTop:"50px",maxWidth:"500px"}},r.a.createElement(H.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit}),r.a.createElement(H.a.Item,{label:"E-mail"},e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(B.a,null))),r.a.createElement(H.a.Item,{label:"Password",hasFeedback:!0},e("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(B.a.Password,null))),r.a.createElement(H.a.Item,{label:"Confirm Password",hasFeedback:!0},e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(B.a.Password,{onBlur:this.handleConfirmBlur}))),r.a.createElement(H.a.Item,{label:r.a.createElement("span",null,"Nickname\xa0",r.a.createElement(Q.a,{title:"What do you want others to call you?"},r.a.createElement(J.a,{type:"question-circle-o"})))},e("username",{rules:[{required:!0,message:"Please input your username!",whitespace:!0}]})(r.a.createElement(B.a,null))),r.a.createElement(H.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},r.a.createElement(x.a,{type:"primary",htmlType:"submit"},"Register"))))}}]),t}(n.Component),Y=H.a.create({name:"register"})(X),Z=a(106),$=a(195),ee=a.n($),te=a(90),ae=(a(355),te.a.Option),ne=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).success=function(e){return G.a.success(e)},a.error=function(e){return G.a.error(e)},a.warning=function(e){return G.a.warning(e)},a.postData=function(e){E("/article",e).then(function(){var e=Object(D.a)(T.a.mark(function e(t){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),0!==t.code){e.next=5;break}a.success(t.message).then(function(){a.props.history.push("/")}),e.next=9;break;case 5:return a.error(t.message),e.next=8,a.logout();case 8:a.props.history.push("/");case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.log(e)})},a.postCommit=function(e){E("/comment",e).then(function(){var e=Object(D.a)(T.a.mark(function e(t){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),0!==t.code){e.next=5;break}a.success(t.message).then(function(){a.props.getCommitdata(a.props.match.params.id),a.editor.txt.clear()}),e.next=10;break;case 5:return a.error(t.message),e.next=8,a.logout();case 8:a.props.history.push("/"),a.editor.txt.clear();case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){a.error(e)})},a.handlerclick=Object(D.a)(T.a.mark(function e(){var t,n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=a.state.addArticle).from=a.props.match.params.id,t.author=a.props.userInfo.user||"",t.content=a.editor.txt.html(),t.id=a.props.userInfo.id||"",t.token=localStorage.token,a.setState({addArticle:t}),""!==t.author){e.next=9;break}return e.abrupt("return",a.warning("\u8bf7\u5148\u767b\u5f55"));case 9:if(console.log(t.content),""!==t.content){e.next=12;break}return e.abrupt("return",a.warning("\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a"));case 12:if(!a.props.isnotAddarticle){e.next=17;break}return n={content:t.content,article:t.from,from:t.id,token:localStorage.token},e.next=16,a.postCommit(n);case 16:return e.abrupt("return");case 17:if(""===t.content||""===t.author){e.next=22;break}if(""!==t.title){e.next=20;break}return e.abrupt("return",a.warning("\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a"));case 20:return e.next=22,a.postData(t);case 22:console.log(Object(Z.a)(a));case 23:case"end":return e.stop()}},e)})),a.selechandleChange=function(e){var t=a.state.addArticle;a.props.isnotAddarticle||(t.tips=e,t.author=a.props.userInfo.user||"",a.setState({addArticle:t}))},a.inputonChange=function(e){var t=e.target.value,n=a.state.addArticle;a.props.isnotAddarticle?console.log(t):(n.title=t,a.setState({addArticle:n}))},a.logout=function(){a.props.dispatch(function(e){v("/user/logout").then(function(t){e({type:"LOGIN_OUT"})})})},a.state={addArticle:{content:"",tips:"javascript",author:"",title:"",id:""},editor:{}},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.initEditor()}},{key:"initEditor",value:function(){var e=this.refs.editorElem,t=new ee.a(e);this.editor=t,t.customConfig.zIndex=100,t.customConfig.uploadImgServer=b,t.customConfig.uploadImgMaxLength=1,t.customConfig.menus=["head","bold","fontSize","italic","underline","strikeThrough","foreColor","link","list","justify","quote","emoticon","undo","redo"],t.customConfig.lang={"\u8bbe\u7f6e\u6807\u9898":"Title","\u5b57\u53f7":"Size","\u6587\u5b57\u989c\u8272":"Color","\u8bbe\u7f6e\u5217\u8868":"List","\u6709\u5e8f\u5217\u8868":"","\u65e0\u5e8f\u5217\u8868":"","\u5bf9\u9f50\u65b9\u5f0f":"Align","\u9760\u5de6":"","\u5c45\u4e2d":"","\u9760\u53f3":"","\u6b63\u6587":"p","\u94fe\u63a5\u6587\u5b57":"link text","\u94fe\u63a5":"link","\u4e0a\u4f20\u56fe\u7247":"Upload","\u7f51\u7edc\u56fe\u7247":"Web","\u56fe\u7247link":"image url","\u63d2\u5165\u89c6\u9891":"Video","\u683c\u5f0f\u5982":"format","\u4e0a\u4f20":"Upload","\u521b\u5efa":"init"},t.create()}},{key:"render",value:function(){var e=this.props.isnotAddarticle;return r.a.createElement("div",{className:"wrap-article"},r.a.createElement(R.a,{style:{width:600,margin:"0 auto"}},e||r.a.createElement("div",{style:{marginBottom:"15px"}},r.a.createElement(te.a,{defaultValue:"javascript",style:{width:120},onChange:this.selechandleChange},r.a.createElement(ae,{value:"html"},"html"),r.a.createElement(ae,{value:"javascript"},"javascript"),r.a.createElement(ae,{value:"nodejs"},"nodejs"),r.a.createElement(ae,{value:"react"},"react"),r.a.createElement(ae,{value:"vue"},"vue")),r.a.createElement(B.a,{placeholder:"\u6807\u9898",onChange:this.inputonChange,style:{width:"400px",marginLeft:"20px"}})),r.a.createElement("div",{ref:"editorElem",style:{textAlign:"left"}}),r.a.createElement(x.a,{type:"primary",onClick:this.handlerclick,className:"add-addArticle"},"\u53d1\u8868")))}}]),t}(n.Component);ne=Object(f.g)(Object(s.b)(function(e){return{userInfo:e.data}})(ne));var re=H.a.create({name:"addArticle"})(ne),oe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).getdata=function(e){v("/article/"+e).then(function(e){console.log(e),a.setState({article:e.article,comment:e.comment,commentlen:e.commentlen})}).catch(function(e){console.log(e)})},a.state={id:a.props.match.params.id,article:{},comment:[],commentlen:0},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.getdata(this.state.id)}},{key:"render",value:function(){var e=this.state,t=e.article,a=e.comment,n=e.commentlen;return r.a.createElement("div",{className:"wrap"},r.a.createElement(R.a,null,r.a.createElement(R.a.Meta,{title:r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h2",null," ",t.title," "),t.author&&r.a.createElement(O.a,{src:b+t.author.avatar}),"\xa0\xa0",t.author&&t.author.user,"\xa0\xa0\u53d1\u8868\u4e8e:",t.created,r.a.createElement("span",{style:{marginLeft:"15px"}},"\u8bc4\u8bba\u6570\uff1a",t.commentNum))}),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.content},style:{marginTop:"50px"}})),r.a.createElement(R.a,{size:"small",title:"\u8bc4\u8bba"},r.a.createElement(k,{isComment:!0,commentData:a,maxNum:n})),r.a.createElement("div",{className:"clearfix",style:{width:"600px"}},r.a.createElement(re,{getCommitdata:this.getdata,isnotAddarticle:!0})))}}]),t}(n.Component),ce=a(404),le=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleClick=function(e){y("/article/".concat(e._id)).then(function(){var e=Object(D.a)(T.a.mark(function e(t){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),0!==t.code){e.next=5;break}return e.next=4,a.success(t.message);case 4:a.getArticles();case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},a.success=function(e){return G.a.success(e)},a.error=function(e){return G.a.error(e)},a.logout=function(){a.props.dispatch(function(e){e({type:"LOGIN_OUT"})})},a.state={data:[]},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getArticles()}},{key:"getArticles",value:function(){var e=this;E("/user/articles",{user:localStorage.user,token:localStorage.token,id:localStorage.id,role:localStorage.role}).then(function(t){1!==t.code?(t.data.forEach(function(e,t){e.key=t}),e.setState({data:t.data})):e.error(t.message).then(function(){e.logout(),e.props.history.push("/")})})}},{key:"render",value:function(){var e=this,t=this.state.data,a=[{title:"\u6807\u9898",dataIndex:"title"},{title:"\u5185\u5bb9",dataIndex:"content",align:"center",ellipsis:!0,width:600,render:function(e){return r.a.createElement("div",{style:{width:"45vw",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},dangerouslySetInnerHTML:{__html:e}})}},{title:"\u64cd\u4f5c",render:function(t,a,n){return r.a.createElement(x.a,{onClick:e.handleClick.bind(null,a)},"\u5220\u9664")}}];return r.a.createElement("div",{className:"wrap"},r.a.createElement(C.a,{md:6},r.a.createElement(w.a,{className:"left-menu"},localStorage.role>1?r.a.createElement(w.a.Item,null,r.a.createElement(g.b,{to:"/admin/user"},"\u7528\u6237\u7ba1\u7406")):"",r.a.createElement(w.a.Item,null,r.a.createElement(g.b,{to:"/user/articles/"+localStorage.user},"\u6587\u7ae0\u7ba1\u7406")),r.a.createElement(w.a.Item,null,r.a.createElement(g.b,{to:"/user/comments/"+localStorage.user},"\u8bc4\u8bba\u7ba1\u7406")))),r.a.createElement(C.a,{md:18},t.length>0?r.a.createElement(ce.a,{columns:a,dataSource:t}):""))}}]),t}(n.Component),ie=le=Object(s.b)(function(e){return{}})(le),se=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleClick=function(e){console.log(e),y("/comment/".concat(e._id)).then(function(){var e=Object(D.a)(T.a.mark(function e(t){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),0!==t.code){e.next=5;break}return e.next=4,a.success(t.message);case 4:a.getComments();case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},a.success=function(e){return G.a.success(e)},a.error=function(e){return G.a.error(e)},a.logout=function(){a.props.dispatch(function(e){e({type:"LOGIN_OUT"})})},a.state={data:[]},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getComments()}},{key:"getComments",value:function(){var e=this;E("/user/comments",{user:localStorage.user,token:localStorage.token,id:localStorage.id,role:localStorage.role}).then(function(t){1!==t.code?(t.data.forEach(function(e,t){e.key=t}),e.setState({data:t.data})):e.error(t.message).then(function(){e.logout(),e.props.history.push("/")})})}},{key:"render",value:function(){var e=this;console.log(this);var t=this.state.data;console.log(t);var a=[{title:"\u6587\u7ae0",dataIndex:"article.title"},{title:"\u8bc4\u8bba\u5185\u5bb9",dataIndex:"content",align:"center",ellipsis:!0,width:600,render:function(e){return r.a.createElement("div",{style:{width:"45vw",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},dangerouslySetInnerHTML:{__html:e}})}},{title:"\u64cd\u4f5c",render:function(t,a,n){return r.a.createElement(x.a,{onClick:e.handleClick.bind(null,a)},"\u5220\u9664")}}];return r.a.createElement("div",{className:"wrap"},r.a.createElement(C.a,{md:6},r.a.createElement(w.a,{className:"left-menu"},localStorage.role>1?r.a.createElement(w.a.Item,null,r.a.createElement(g.b,{to:"/admin/user"},"\u7528\u6237\u7ba1\u7406")):"",r.a.createElement(w.a.Item,null,r.a.createElement(g.b,{to:"/user/articles/"+localStorage.user},"\u6587\u7ae0\u7ba1\u7406")),r.a.createElement(w.a.Item,null,r.a.createElement(g.b,{to:"/user/comments/"+localStorage.user},"\u8bc4\u8bba\u7ba1\u7406")))),r.a.createElement(C.a,{md:18},t.length>0?r.a.createElement(ce.a,{columns:a,dataSource:t}):""))}}]),t}(n.Component),ue=se=Object(s.b)(function(e){return{}})(se),me=a(199),de=a.n(me),pe=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"wrap"},r.a.createElement("div",{style:{width:740,margin:"50px auto"}},r.a.createElement("img",{width:"700",alt:"404",src:de.a})))}}]),t}(n.Component),he=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/",render:function(){return r.a.createElement(f.a,{to:"/cnode/all"})}}),r.a.createElement(f.b,{path:"/cnode/:id",component:F}),r.a.createElement(f.b,{path:"/code/details/:id",component:W}),r.a.createElement(f.b,{path:"/index/:id",component:I}),r.a.createElement(f.b,{path:"/getstart",component:q}),r.a.createElement(f.b,{path:"/login",render:function(){return localStorage.getItem("user")?r.a.createElement(f.a,{to:"/"}):r.a.createElement(K,null)}}),r.a.createElement(f.b,{path:"/reg",component:Y}),r.a.createElement(f.b,{path:"/addarticle",component:re}),r.a.createElement(f.b,{path:"/article/:id",component:oe}),r.a.createElement(f.b,{path:"/user/articles/:id",component:ie}),r.a.createElement(f.b,{path:"/user/comments/:id",component:ue}),r.a.createElement(f.b,{path:"/*",component:pe}))}}]),t}(n.Component),fe=a(402),ge=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).success=function(e){return G.a.success(e).then(function(){a.props.history.push("/")})},a.logout=function(){console.log(1),a.props.dispatch(function(e){v("/user/logout").then(function(){var t=Object(D.a)(T.a.mark(function t(n){return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.success(n.message);case 2:e({type:"LOGIN_OUT"});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loading,a=e.userInfo;return r.a.createElement("div",null,t?r.a.createElement(w.a,{className:"top-Menu top-Menu-user",mode:"horizontal"},r.a.createElement(w.a.SubMenu,{title:r.a.createElement("div",null,r.a.createElement(O.a,{size:"large",src:b+a.avatar}),r.a.createElement("span",{className:"top-Menu-user-name"},a.user))},r.a.createElement(w.a.ItemGroup,null,r.a.createElement(w.a.Item,{key:"setting:1"},r.a.createElement(g.b,{to:"/user/articles/"+a.user},"\u7528\u6237\u4e2d\u5fc3")),r.a.createElement(w.a.Item,{key:"setting:2",onClick:this.logout},r.a.createElement("span",null,"\u9000\u51fa"))))):r.a.createElement(w.a,{className:"top-Menu top-Menu-user",mode:"horizontal"},r.a.createElement(w.a.Item,null,r.a.createElement(g.b,{to:"/login"},"\u767b\u5f55")),r.a.createElement(w.a.Item,null,r.a.createElement(g.b,{to:"/reg"},"\u6ce8\u518c"))))}}]),t}(n.Component);ge=Object(f.g)(Object(s.b)(function(e){return{userInfo:e.data}})(ge));var be=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(S.a,{className:"wrap"},r.a.createElement(C.a,{md:6},r.a.createElement("h1",{id:"logo"},"\ud83d\ude04\ud83d\ude04\ud83d\ude04\ud83d\ude04\ud83d\ude04\ud83d\ude04")," "),r.a.createElement(C.a,{md:18},r.a.createElement(fe.a,{type:"vertical",className:"headerDivider"}),r.a.createElement(w.a,{mode:"horizontal",className:"top-Menu"},r.a.createElement(w.a.Item,null,r.a.createElement(g.b,{to:"/index/all"},r.a.createElement(J.a,{type:"home"}),"\u9996\u9875")),r.a.createElement(w.a.Item,null,r.a.createElement(g.b,{to:"/getstart"},r.a.createElement(J.a,{type:"book"}),"\u65b0\u624b\u5165\u95e8")),r.a.createElement(w.a.Item,null,r.a.createElement(g.b,{to:"/cnode/all"},r.a.createElement(J.a,{type:"info-circle-o"}),"Cnode"))),r.a.createElement(ge,{loading:this.props.loading,userInfo:this.props.userInfo}))))}}]),t}(n.Component),Ee=be=Object(s.b)(function(e){return{userInfo:e.data,loading:e.loading}})(be),ve=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"main-footer"},"\u5e95\u90e8")}}]),t}(n.Component),ye=(a(398),a(403)),je=ye.a.Header,Oe=ye.a.Content,ke=ye.a.Footer,we=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(je,null,r.a.createElement(Ee,null)),r.a.createElement(Oe,{style:{minHeight:"835px"}},r.a.createElement(he,null)),r.a.createElement(ke,null,r.a.createElement(ve,null)))}}]),t}(n.Component);function xe(){return{user:localStorage.getItem("user"),avatar:localStorage.getItem("avatar"),articleNumL:localStorage.getItem("articleNumL"),commentNum:localStorage.getItem("commentNum"),id:localStorage.getItem("id"),role:localStorage.getItem("role"),token:localStorage.getItem("token")}}a(399);var Ie=Object(l.d)(function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return console.log("SET_USER"),e=t.userInfo,localStorage.setItem("user",e.user),localStorage.setItem("avatar",e.avatar),localStorage.setItem("articleNumL",e.articleNumL),localStorage.setItem("commentNum",e.commentNum),localStorage.setItem("id",e.id),localStorage.setItem("role",e.role),localStorage.setItem("token",e.token),{data:t.userInfo,loading:!!t.userInfo.user};case"GET_USER":return"state2";case"LOGIN_OUT":localStorage.clear();var a=xe();return{data:a,loading:!!a.user};default:console.log("moren");var n=xe();return{data:n,loading:!!n.user,num:0}}},Object(l.c)(Object(l.a)(i.a)));c.a.render(r.a.createElement(g.a,null,r.a.createElement(s.a,{store:Ie},r.a.createElement(we,{aa:"wocao"}))),document.getElementById("root"))}},[[202,1,2]]]);
//# sourceMappingURL=main.e543bcb1.chunk.js.map